<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<style>
		.bug {
			position: absolute;
			width: 40px;
			height: 40px;
			background: url("spider.svg") no-repeat 50% 50% / contain;
		}
	</style>
</head>
<body>
	<main>
		
	</main>
	<script>
		class Prey {

			constructor() {
				window.addEventListener("mousemove", e => {
					this.x = e.clientX;
					this.y = e.clientY;
				});
			}
		}

		class Bug {

			constructor(x, y, speed, prey) {
				this.x = x;
				this.y = y;
				this.speed = speed;
				this.prey = prey;
				this.e = document.createElement("div");
				this.e.classList.add("bug");
				document.body.appendChild(this.e);

				setInterval(() => this.walk(), 100);
			}

			walk() {
				let dx = -(this.prey.x - this.x);
				let dy = -(this.prey.y - this.y);

				dx = ((dx / Math.abs(dx)) / 10) * this.speed;
				dy = ((dy / Math.abs(dy)) / 10) * this.speed;

				this.x += -3 + Math.random() * 6 + dx;
				this.y += -3 + Math.random() * 6 + dy;
				this.e.style.left = `${this.x}px`;
				this.e.style.top = `${this.y}px`;
			}
		}

		let prey = new Prey();

		for (let i = 0; i < 100; i++) {
			new Bug(window.innerWidth / 2, window.innerHeight / 2, 50 + Math.random() * 50, prey);
		}

	</script>
</body>
</html>